{"version":3,"sources":["types.ts","components/AddItemForm.tsx","components/ItemsList.tsx","components/Total.tsx","components/ShoppingCart.tsx","App.tsx","index.tsx"],"names":["ALL_PRODUCTS","id","price","label","PRODUCTS_MAP","reduce","acc","product","AddItemForm","add","React","useState","productId","setProductId","quantity","setQuantity","htmlFor","type","name","className","value","onChange","event","target","map","onClick","ItemsList","items","inc","dec","deleteItem","item","console","log","Total","clear","totalValue","ShoppingCart","setItems","q","isTrueItem","find","newItem","currentItems","index","indexOf","filter","curr","Provider","memo","children","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a409350.chunk.js","sourcesContent":["/* eslint-disable no-param-reassign */\nexport type ShoppingCartItem = {\n  productId: string;\n  quantity: number;\n};\n\nexport type Product = {\n  id: string;\n  price: number;\n  label: string;\n};\n\nexport const ALL_PRODUCTS: Product[] = [\n  {\n    id: 'bread-product-id',\n    price: 15,\n    label: 'Bread',\n  },\n  {\n    id: 'choco-product-id',\n    price: 20,\n    label: 'Chocolate',\n  },\n  {\n    id: 'milk-product-id',\n    price: 35,\n    label: 'Milk',\n  },\n  {\n    id: 'cheese-product-id',\n    price: 45,\n    label: 'Cheese',\n  },\n  {\n    id: 'apple-product-id',\n    price: 12,\n    label: 'Apples',\n  },\n  {\n    id: 'potato-product-id',\n    price: 7,\n    label: 'Potatos',\n  },\n];\n\nexport const PRODUCTS_MAP = ALL_PRODUCTS.reduce(\n  (acc: { [key: string]: Product }, product) => {\n    acc[product.id] = product;\n\n    return acc;\n  },\n  {},\n);\n","import React from 'react';\nimport { ALL_PRODUCTS } from '../types';\n\ntype Props = {\n  add: (productId:string, quantity: number) => void;\n};\n\nconst AddItemForm: React.FC<Props> = ({ add }) => {\n  const [productId, setProductId] = React.useState<string>('');\n  const [quantity, setQuantity] = React.useState<number>(0);\n\n  return (\n    <>\n      <label htmlFor=\"quantity\">\n        <input\n          type=\"number\"\n          name=\"quantity\"\n          className=\"input\"\n          value={quantity}\n          onChange={(event) => setQuantity(+event.target.value)}\n        />\n      </label>\n\n      <select\n        name=\"users\"\n        className=\"select\"\n        value={productId}\n        onChange={(event) => setProductId(event.target.value)}\n      >\n        {ALL_PRODUCTS.map(product => (\n          <option\n            key={product.id}\n            value={product.id}\n          >\n            {product.label}\n          </option>\n        ))}\n      </select>\n\n      <button\n        type=\"submit\"\n        className=\"submit\"\n        onClick={() => add(productId, quantity)}\n      >\n        ADD\n      </button>\n    </>\n  );\n};\n\nexport default AddItemForm;\n","import React from 'react';\nimport { PRODUCTS_MAP, ShoppingCartItem } from '../types';\n\ntype Props = {\n  items: ShoppingCartItem[];\n  inc: (item: ShoppingCartItem) => void;\n  dec: (item: ShoppingCartItem) => void;\n  deleteItem: (item: ShoppingCartItem) => void;\n};\n\nconst ItemsList: React.FC<Props> = ({\n  items, inc, dec, deleteItem,\n}) => {\n  return (\n    <>\n      {items.map((item) => {\n        const product = PRODUCTS_MAP[item.productId];\n        const price = product?.price || 0;\n\n        // eslint-disable-next-line no-console\n        console.log(PRODUCTS_MAP);\n\n        return (\n          <div key={item.productId}>\n            <div>\n              name\n              {product?.label}\n            </div>\n            <div>\n              quantity\n              {item.quantity}\n            </div>\n            <div>\n              price\n              {price}\n            </div>\n            <div>\n              <button type=\"button\" onClick={() => inc(item)}>+</button>\n\n              <button\n                type=\"button\"\n                onClick={\n                  (item.quantity === 1)\n                    ? () => deleteItem(item)\n                    : () => dec(item)\n                }\n              >\n                -\n              </button>\n\n              <button type=\"button\" onClick={() => deleteItem(item)}>x</button>\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nexport default ItemsList;\n","/* eslint-disable no-param-reassign */\nimport React from 'react';\nimport { PRODUCTS_MAP, ShoppingCartItem } from '../types';\n\ntype Props = {\n  items: ShoppingCartItem[];\n  clear: () => void;\n};\n\nconst Total: React.FC<Props> = ({ items, clear }) => {\n  const totalValue = items.reduce((acc, item) => {\n    const price = PRODUCTS_MAP[item.productId]?.price || 0;\n\n    acc += item.quantity * price;\n\n    return acc;\n  }, 0);\n\n  return (\n    <>\n      <div>\n        total\n        {totalValue}\n      </div>\n      <button type=\"button\" onClick={clear}>Clear</button>\n    </>\n  );\n};\n\nexport default Total;\n","import React, { useState } from 'react';\nimport { ShoppingCartItem } from '../types';\nimport AddItemForm from './AddItemForm';\nimport ItemsList from './ItemsList';\nimport Total from './Total';\n\nconst ShoppingCart: React.FC = () => {\n  const [items, setItems] = useState<ShoppingCartItem[]>([]);\n\n  const add = (id: string, q: number) => {\n    const isTrueItem = items.find((item) => item.productId === id);\n    const newItem = {\n      productId: id,\n      quantity: q,\n    };\n\n    if (!isTrueItem) {\n      setItems((currentItems) => [...currentItems, newItem]);\n    } else {\n      isTrueItem.quantity += q;\n      setItems([...items]);\n    }\n  };\n\n  const deleteItem = (item: ShoppingCartItem) => {\n    setItems(items.filter((curr) => curr !== item));\n  };\n\n  const inc = (item:ShoppingCartItem) => {\n    const index = items.indexOf(item);\n\n    // eslint-disable-next-line no-param-reassign\n    item.quantity += 1;\n    items[index] = item;\n\n    setItems([...items]);\n  };\n\n  const dec = (item: ShoppingCartItem) => {\n    const index = items.indexOf(item);\n\n    // eslint-disable-next-line no-param-reassign\n    item.quantity -= 1;\n    items[index] = item;\n\n    setItems([...items]);\n  };\n\n  const clear = () => {\n    setItems([]);\n  };\n\n  return (\n    <>\n      <AddItemForm\n        add={add}\n      />\n      <ItemsList\n        items={items}\n        inc={inc}\n        dec={dec}\n        deleteItem={deleteItem}\n      />\n      <Total\n        items={items}\n        clear={clear}\n      />\n    </>\n  );\n};\n\nexport default ShoppingCart;\n","import React from 'react';\r\nimport './App.scss';\r\nimport ShoppingCart from './components/ShoppingCart';\r\n\r\ninterface Props {\r\n  onClick: () => void;\r\n}\r\n\r\nexport const Provider: React.FC<Props> = React.memo(\r\n  ({ onClick, children }) => (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  ),\r\n);\r\n\r\nexport const App: React.FC = () => {\r\n  return (\r\n    <div className=\"starter\">\r\n      <Provider onClick={() => ({})}>\r\n        <ShoppingCart />\r\n      </Provider>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport { App } from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}